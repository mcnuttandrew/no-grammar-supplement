{
  "$schema": "http://vegaar.hkustvis.org/schema/vega-ar/v5.json",
  "padding": 10,
  "width": 450,
  "height": 450,
  "autosize": "none",

  "data": [
    {
      "name": "earthquakes",
      "url": "http://vegaar.hkustvis.org/data/earthquakes.json"
    }
  ],

  "marks": [
    {
      "type": "image",
      "encode": {
        "enter": {
            "url": {"value":"http://vegaar.hkustvis.org/earth.png"}
        }
      }
    },
    {
      "type": "symbol",
      "from": {"data": "earthquakes"},
      "encode": {
        "update": {
          "opacity": {"value": 0.25},
          "fill": {"value": "red"},
          "x": {"field": "x"},
          "y": {"field": "y"},
          "size": {"signal": "scale('size', exp(datum.mag) * 225)"}
        }
      }
    }
  ],

  "scales": [
    {
      "name": "size",
      "type": "sqrt",
      "domain": [0, 100],
      "range": [0, 6]
    }
  ],

  "ar": {
      "mode": "ON",
      "data": [
        {
          "name": "earthquakes",
          "values":[{"id":"us1000chs5","x":278.0673975247055,"y":85.97911687026402,"mag":5},{"id":"us1000chln","x":116.76908776624282,"y":133.69237627014365,"mag":5.4},{"id":"us1000chl5","x":15.808457411618548,"y":298.1481180786242,"mag":5.6},{"id":"us1000chjm","x":116.84521866115738,"y":133.33611598084934,"mag":5.3},{"id":"us1000chj0","x":116.86346236470102,"y":133.29738522003584,"mag":5.2},{"id":"us1000chhq","x":117.0758516517734,"y":133.72037209356233,"mag":5.1},{"id":"us1000chhc","x":117.28007906256386,"y":132.8615307356101,"mag":6.4},{"id":"us1000chbp","x":275.62008609425357,"y":354.89197979334335,"mag":5},{"id":"us1000cga3","x":70.97725421995835,"y":122.86753334731871,"mag":5.3},{"id":"us1000cfz5","x":333.62645387060087,"y":43.72636812415311,"mag":5},{"id":"us1000cfz6","x":41.93420747822262,"y":355.7588515449235,"mag":5.2},{"id":"us1000cfsg","x":105.7207608439788,"y":260.6693180044799,"mag":5.2},{"id":"us1000cfnw","x":116.9908100790755,"y":133.1356836598996,"mag":5.2},{"id":"us1000cfnf","x":116.90520099620684,"y":133.03711307572513,"mag":5.3},{"id":"us1000cfn6","x":117.19277352139311,"y":132.9124068520038,"mag":6.1},{"id":"us1000cfmz","x":252.26685392350873,"y":1.6793180674819723,"mag":5.2},{"id":"us1000cfmx","x":252.066910092745,"y":1.6569803888135084,"mag":5.2},{"id":"us1000cfmu","x":117.07476255322611,"y":132.87765283613837,"mag":5.3},{"id":"us1000cflk","x":415.28063368315566,"y":335.79974423723394,"mag":5},{"id":"us1000cfau","x":337.5137383428022,"y":412.13824029381277,"mag":5.2},{"id":"us1000ceuw","x":239.3940482738578,"y":374.59060808233403,"mag":5.1},{"id":"us1000ceqp","x":17.351869619482528,"y":256.91115010350876,"mag":5.1},{"id":"us1000ceb4","x":133.25247984914574,"y":430.32622956248446,"mag":5.2},{"id":"us1000ce9r","x":133.07448997998597,"y":430.2448906676525,"mag":6},{"id":"us1000ce69","x":335.35719969105975,"y":44.95995816200832,"mag":5.1},{"id":"us1000ce2h","x":95.27330206715428,"y":225.907917812968,"mag":5.5},{"id":"us1000ce18","x":290.7672596520148,"y":342.6227756067105,"mag":5.2},{"id":"us1000cdn0","x":9.650674704485823,"y":289.4492124009115,"mag":6},{"id":"us1000cdnc","x":9.393516284517943,"y":288.49179183328243,"mag":5.4},{"id":"us1000cdjw","x":129.80106917092087,"y":413.561520622909,"mag":5.4},{"id":"us1000cdgu","x":272.93080611575084,"y":231.89432387521083,"mag":5.2},{"id":"us1000cdbe","x":12.199613310840334,"y":267.077086463602,"mag":5.3},{"id":"us2000crtp","x":265.0362233809732,"y":195.71843167822084,"mag":5.1},{"id":"us2000crtj","x":265.1761577995136,"y":196.68041852447672,"mag":5.7},{"id":"us2000crse","x":9.267096094517967,"y":205.27259915230147,"mag":5.1},{"id":"us2000crq6","x":37.217774376930805,"y":252.16294480868112,"mag":5.6},{"id":"us2000crmu","x":284.40199799205556,"y":91.02853993215632,"mag":6.1},{"id":"us2000crle","x":21.201083397046375,"y":252.3410870494812,"mag":5.3},{"id":"us2000crkq","x":117.65654086291894,"y":255.78031870816434,"mag":5.3}]
        }
      ]
    }
}
